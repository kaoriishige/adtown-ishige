(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[692],{8644:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/page",function(){return n(1429)}])},1225:function(e,a,n){"use strict";n.d(a,{db:function(){return i},l:function(){return r}});var s=n(3977),t=n(9828),l=n(2370);let r=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)({apiKey:"AIzaSyDtTt0fWthsU6Baq1fJwUx8CgSakoZnMXY",authDomain:"minna-no-nasu-app.firebaseapp.com",projectId:"minna-no-nasu-app",storageBucket:"minna-no-nasu-app.appspot.com",messagingSenderId:"885979930856",appId:"1:885979930856:web:2b06441bc2d497cf3e695d",measurementId:"G-FNY4RBQKHW"}),i=(0,t.ad)(r);(0,l.v0)(r)},1429:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return i}});var s=n(5893),t=n(7294),l=n(1225),r=n(9828);function i(){let[e,a]=(0,t.useState)([]),[n,i]=(0,t.useState)(null),[c,u]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{a((await (0,r.PL)((0,r.hJ)(l.db,"apps"))).docs.map(e=>({id:e.id,...e.data()})))})()},[]);let d=e=>i(e),o=(e,a)=>{n&&i({...n,[e]:a})},p=async()=>{n&&(await (0,r.r7)((0,r.JU)(l.db,"apps",n.id),{name:n.name,description:n.description,url:n.url,categories:n.categories}),u("✅ 保存しました"),i(null),setTimeout(()=>u(""),2e3))},m=async e=>{await (0,r.oe)((0,r.JU)(l.db,"apps",e)),a(a=>a.filter(a=>a.id!==e)),u("\uD83D\uDDD1️ 削除しました"),setTimeout(()=>u(""),2e3)};return(0,s.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-xl font-bold mb-4",children:"アプリ一覧（管理）"}),c&&(0,s.jsx)("p",{className:"mb-4 text-green-600",children:c}),n?(0,s.jsxs)("div",{className:"bg-gray-100 p-4 rounded mb-6",children:[(0,s.jsxs)("h2",{className:"font-semibold mb-2",children:["編集中: ",n.name]}),(0,s.jsx)("input",{className:"w-full p-2 border mb-2",value:n.name,onChange:e=>o("name",e.target.value),placeholder:"アプリ名"}),(0,s.jsx)("input",{className:"w-full p-2 border mb-2",value:n.description,onChange:e=>o("description",e.target.value),placeholder:"説明"}),(0,s.jsx)("input",{className:"w-full p-2 border mb-2",value:n.url,onChange:e=>o("url",e.target.value),placeholder:"リンクURL"}),(0,s.jsx)("input",{className:"w-full p-2 border mb-4",value:n.categories.join(","),onChange:e=>o("categories",e.target.value.split(",").map(e=>e.trim())),placeholder:"カテゴリ（カンマ区切り）"}),(0,s.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded mr-2",onClick:p,children:"保存"}),(0,s.jsx)("button",{className:"text-gray-600 underline",onClick:()=>i(null),children:"キャンセル"})]}):null,(0,s.jsx)("ul",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("li",{className:"border p-4 rounded",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:e.name}),(0,s.jsx)("p",{className:"text-sm mb-2",children:e.description}),(0,s.jsx)("p",{className:"text-sm text-blue-600",children:e.url}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["カテゴリ: ",e.categories.join(", ")]}),(0,s.jsxs)("div",{className:"mt-2 flex gap-3",children:[(0,s.jsx)("button",{className:"text-blue-600 underline",onClick:()=>d(e),children:"編集"}),(0,s.jsx)("button",{className:"text-red-600 underline",onClick:()=>m(e.id),children:"削除"})]})]},e.id))})]})}}},function(e){e.O(0,[290,16,204,233,888,774,179],function(){return e(e.s=8644)}),_N_E=e.O()}]);