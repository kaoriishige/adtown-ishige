(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[325],{7623:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/export/page",function(){return t(9833)}])},9833:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return l}});var a=t(5893),r=t(7294);function l(){let[e,n]=(0,r.useState)(!1),[t,l]=(0,r.useState)(""),s=async()=>{n(!0),l("");try{let e=await fetch("/api/run-export"),n=await e.json();l(n.url)}catch(e){alert("CSV出力に失敗しました")}finally{n(!1)}};return(0,a.jsxs)("div",{className:"p-6 max-w-xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-4",children:"紹介報酬CSV出力"}),(0,a.jsx)("button",{onClick:s,disabled:e,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",children:e?"出力中...":"今月のCSVを生成"}),t&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"mb-1",children:"✅ CSVファイルが生成されました："}),(0,a.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"ダウンロードはこちら"})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7623)}),_N_E=e.O()}]);