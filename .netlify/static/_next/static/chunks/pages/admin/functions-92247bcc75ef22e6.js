(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{9937:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/functions",function(){return n(1075)}])},1075:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var c=n(5893),s=n(7294),a=n(9332),u=n(2370);function r(){let[e,t]=(0,s.useState)(null),[n,r]=(0,s.useState)(!0),[i,o]=(0,s.useState)(""),l=(0,a.useRouter)();(0,s.useEffect)(()=>{let e=(0,u.v0)(),n=(0,u.Aj)(e,e=>{e?t(e):l.push("/login"),r(!1)});return()=>n()},[l]);let h=async(e,t)=>{o("\uD83D\uDD04 ".concat(t," を実行中..."));try{let n=await fetch("/api/".concat(e));if(!n.ok)throw Error("実行エラー");let c=await n.json();o("✅ ".concat(t," 完了：").concat(JSON.stringify(c)))}catch(e){o("❌ ".concat(t," 失敗"))}};return n?(0,c.jsx)("p",{className:"p-6 text-gray-600",children:"読み込み中..."}):(0,c.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[(0,c.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Cloud Functions 実行"}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("button",{onClick:()=>h("run-summary","紹介報酬集計"),className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700",children:"紹介報酬を集計する"}),(0,c.jsx)("button",{onClick:()=>h("run-export","CSV出力"),className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",children:"CSVを出力する"})]}),i&&(0,c.jsx)("p",{className:"mt-6 text-sm text-gray-700 whitespace-pre-line",children:i})]})}}},function(e){e.O(0,[290,204,332,888,774,179],function(){return e(e.s=9937)}),_N_E=e.O()}]);