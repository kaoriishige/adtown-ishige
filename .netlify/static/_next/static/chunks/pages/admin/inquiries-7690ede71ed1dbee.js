(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{8787:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/inquiries",function(){return a(2032)}])},1225:function(e,t,a){"use strict";a.d(t,{db:function(){return c},l:function(){return l}});var s=a(3977),n=a(9828),r=a(2370);let l=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)({apiKey:"AIzaSyDtTt0fWthsU6Baq1fJwUx8CgSakoZnMXY",authDomain:"minna-no-nasu-app.firebaseapp.com",projectId:"minna-no-nasu-app",storageBucket:"minna-no-nasu-app.appspot.com",messagingSenderId:"885979930856",appId:"1:885979930856:web:2b06441bc2d497cf3e695d",measurementId:"G-FNY4RBQKHW"}),c=(0,n.ad)(l);(0,r.v0)(l)},2032:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var s=a(5893),n=a(7294),r=a(9332),l=a(2370),c=a(9828),d=a(1225);function i(){let[e,t]=(0,n.useState)(null),[a,i]=(0,n.useState)(!0),[u,o]=(0,n.useState)([]),p=(0,r.useRouter)();return((0,n.useEffect)(()=>{let e=(0,l.v0)(),a=(0,l.Aj)(e,e=>{e?t(e):p.push("/login"),i(!1)});return()=>a()},[p]),(0,n.useEffect)(()=>{let t=async()=>{o((await (0,c.PL)((0,c.hJ)(d.db,"inquiries"))).docs.map(e=>{var t,a;let s=e.data();return{email:s.email||"",message:s.message||"",createdAt:(null===(a=s.createdAt)||void 0===a?void 0:null===(t=a.toDate)||void 0===t?void 0:t.call(a))||null}}))};e&&t()},[e]),a)?(0,s.jsx)("p",{className:"p-6 text-gray-600",children:"読み込み中..."}):(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"お問い合わせ一覧"}),0===u.length?(0,s.jsx)("p",{className:"text-gray-600",children:"まだお問い合わせはありません。"}):(0,s.jsxs)("table",{className:"w-full border text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100 text-left",children:[(0,s.jsx)("th",{className:"border px-3 py-2",children:"メールアドレス"}),(0,s.jsx)("th",{className:"border px-3 py-2",children:"メッセージ"}),(0,s.jsx)("th",{className:"border px-3 py-2",children:"送信日時"})]})}),(0,s.jsx)("tbody",{children:u.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border px-3 py-2",children:e.email}),(0,s.jsx)("td",{className:"border px-3 py-2",children:e.message}),(0,s.jsx)("td",{className:"border px-3 py-2",children:e.createdAt?e.createdAt.toLocaleString():"—"})]},t))})]})]})}}},function(e){e.O(0,[290,16,204,233,332,888,774,179],function(){return e(e.s=8787)}),_N_E=e.O()}]);