(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[148],{1622:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/rewards",function(){return s(4799)}])},1225:function(e,t,s){"use strict";s.d(t,{db:function(){return l},l:function(){return c}});var a=s(3977),n=s(9828),r=s(2370);let c=(0,a.C6)().length?(0,a.Mq)():(0,a.ZF)({apiKey:"AIzaSyDtTt0fWthsU6Baq1fJwUx8CgSakoZnMXY",authDomain:"minna-no-nasu-app.firebaseapp.com",projectId:"minna-no-nasu-app",storageBucket:"minna-no-nasu-app.appspot.com",messagingSenderId:"885979930856",appId:"1:885979930856:web:2b06441bc2d497cf3e695d",measurementId:"G-FNY4RBQKHW"}),l=(0,n.ad)(c);(0,r.v0)(c)},4799:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(5893),n=s(7294),r=s(9332),c=s(2370),l=s(9828),d=s(1225);function u(){let[e,t]=(0,n.useState)(null),[s,u]=(0,n.useState)(!0),[i,o]=(0,n.useState)({}),[p,x]=(0,n.useState)(""),h=(0,r.useRouter)();return((0,n.useEffect)(()=>{let e=(0,c.v0)(),s=(0,c.Aj)(e,e=>{e?t(e):h.push("/login"),u(!1)});return()=>s()},[h]),(0,n.useEffect)(()=>{let e=new Date;x("".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0")))},[]),(0,n.useEffect)(()=>{let t=async()=>{if(!p)return;let e=(0,l.JU)(d.db,"summaries",p),t=await (0,l.QT)(e);t.exists()&&o(t.data())};e&&p&&t()},[e,p]),s)?(0,a.jsx)("p",{className:"p-6 text-gray-600",children:"読み込み中..."}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold mb-6",children:["紹介報酬集計（",p,"）"]}),0===Object.keys(i).length?(0,a.jsx)("p",{className:"text-gray-600",children:"データがありません"}):(0,a.jsxs)("table",{className:"w-full border text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100 text-left",children:[(0,a.jsx)("th",{className:"border px-3 py-2",children:"メールアドレス"}),(0,a.jsx)("th",{className:"border px-3 py-2",children:"紹介人数"}),(0,a.jsx)("th",{className:"border px-3 py-2",children:"報酬金額（円）"})]})}),(0,a.jsx)("tbody",{children:Object.entries(i).map(e=>{let[t,s]=e;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"border px-3 py-2",children:t}),(0,a.jsx)("td",{className:"border px-3 py-2",children:s.referralCount}),(0,a.jsx)("td",{className:"border px-3 py-2",children:s.rewardAmount})]},t)})})]})]})}}},function(e){e.O(0,[290,16,204,233,332,888,774,179],function(){return e(e.s=1622)}),_N_E=e.O()}]);